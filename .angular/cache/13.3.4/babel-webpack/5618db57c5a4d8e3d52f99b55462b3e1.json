{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/book.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\n\nfunction AdminComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"\\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u043A \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u044E \\u043A\\u043D\\u0438\\u0433\\u0438, \\u0441\\u043D\\u0430\\u0447\\u0430\\u043B\\u0430 \\u0432\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435 \\u0432 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 11)(2, \"div\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 13);\n    i0.ɵɵtext(5, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵlistener(\"click\", function AdminComponent_div_14_Template_div_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const o_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.deleteOrder(o_r2.id);\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const o_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(o_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/edit/\", o_r2.id, \"\");\n  }\n}\n\nexport let AdminComponent = /*#__PURE__*/(() => {\n  class AdminComponent {\n    constructor(bookService) {\n      this.bookService = bookService;\n      this.book = {\n        id: 0,\n        name: '',\n        genre: '',\n        author: '',\n        description: '',\n        image: '',\n        price: 0\n      };\n      this.orders = [];\n      this.logged = false;\n    }\n\n    logout() {\n      localStorage.clear();\n      this.logged = false;\n    }\n\n    ngOnInit() {\n      this.bookService.getOrders().subscribe(orders => {\n        this.orders = orders;\n      });\n      const isLogged = localStorage.getItem('token');\n      if (isLogged) this.logged = true;\n    }\n\n    create() {\n      this.bookService.createBook(this.book).subscribe();\n    }\n\n    deleteOrder(id) {\n      this.bookService.deleteOrder(id).subscribe({\n        next: () => this.bookService.getBooks()\n      });\n    }\n\n  }\n\n  AdminComponent.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.BookService));\n  };\n\n  AdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    decls: 15,\n    vars: 8,\n    consts: [[1, \"admin\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"book name\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"author\", \"placeholder\", \"book author\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"genre\", \"placeholder\", \"book genre\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"description\", \"placeholder\", \"book description\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"price\", \"placeholder\", \"book price\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"image\", \"placeholder\", \"book image url\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [3, \"click\"], [1, \"book_list\"], [4, \"ngFor\", \"ngForOf\"], [1, \"book_list__item\"], [1, \"book_list__item___title\"], [1, \"book_list__item___edit\", 3, \"routerLink\"], [1, \"book_list__item___delete\", 3, \"click\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Create a book\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 1);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.book.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_4_listener($event) {\n          return ctx.book.author = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.book.genre = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.book.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.book.price = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_8_listener($event) {\n          return ctx.book.image = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, AdminComponent_p_9_Template, 2, 0, \"p\", 7);\n        i0.ɵɵelementStart(10, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_10_listener() {\n          return ctx.create();\n        });\n        i0.ɵɵtext(11, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u0443\\u044E \\u043A\\u043D\\u0438\\u0433\\u0443\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"hr\");\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵtemplate(14, AdminComponent_div_14_Template, 8, 2, \"div\", 10);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.author);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.genre);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.description);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.price);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.book.image);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.logged);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.orders);\n      }\n    },\n    directives: [i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.NgIf, i3.NgForOf, i4.RouterLink],\n    styles: [\".admin[_ngcontent-%COMP%]{display:grid;grid-template-rows:repeat(8,auto);grid-gap:1rem;padding-right:1rem}.book_list[_ngcontent-%COMP%]{padding:1rem 0}.book_list__item[_ngcontent-%COMP%]{padding:1rem;display:grid;grid-template-columns:1fr auto auto;border-top:1px solid #868686;align-items:center}.book_list__item___title[_ngcontent-%COMP%]{text-decoration:underline;font-size:20px;font-weight:700}.book_list__item___delete[_ngcontent-%COMP%]{padding:10px 1rem;font-weight:700;border:5px solid #000}.book_list__item___edit[_ngcontent-%COMP%]{padding:10px 1rem;background:rgb(23,23,149);color:#fff;font-weight:700}\"]\n  });\n  return AdminComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}